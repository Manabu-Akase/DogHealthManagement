import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;    //ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’å—ã‘å–ã‚‹ãŸã‚ã«å¿…è¦

//é£¼ã„çŠ¬ã®æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚¯ãƒ©ã‚¹

class MyDog {
    String name;
    int age;
    String breed;

    //çŠ¬ã®æƒ…å ±ã‚’åˆæœŸåŒ–ã™ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    
    MyDog(String name, int age, String breed) {
        this.name = name;
        this.age = age;
        this.breed = breed;
    }
}

 // å¥åº·ç®¡ç†ã‚’è¡¨ã™ã‚¯ãƒ©ã‚¹ã€ï¼‘æ—¥ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿

class HealthRecord {
    String date;
    double weight;
    String food;
    int walkMinutes;
    String condition;

    //å¥åº·ç®¡ç†ã‚’åˆæœŸåŒ–ã™ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    HealthRecord(String date, double weight, String food, int walkMinutes, String condition) {
        this.date = date;
        this.weight = weight;
        this.food = food;
        this.walkMinutes = walkMinutes;
        this.condition = condition;
    }

    //è¨˜éŒ²ã—ãŸå†…å®¹ã‚’è¦‹ã‚„ã™ãæ•´å½¢ã—ã¦æ–‡å­—åˆ—ã§è¿”ã™
    
    public String toString() {
        return date + " | ä½“é‡: " + weight + "kg | é£Ÿäº‹: " + food +
               " | æ•£æ­©: " + walkMinutes + "åˆ† | çŠ¶æ…‹: " + condition;
    }
}

public class Mydog {
    static Scanner scanner = new Scanner(System.in);  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å…¥åŠ›ã‚’å—ã‘å–ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰
    static MyDog dog; //ç™»éŒ²ã•ã‚ŒãŸçŠ¬ã®æƒ…å ±ã‚’å‘¼ã³å‡ºã™
    static List<HealthRecord> records = new ArrayList<>();   //å¥åº·è¨˜éŒ²ã‚’è¤‡æ•°ä¿å­˜ã™ã‚‹ãƒªã‚¹ãƒˆ

    
    public static void main(String[] args) {
        System.out.println("çŠ¬ã®å¥åº·ç®¡ç†ã‚¢ãƒ—ãƒªã¸ã‚ˆã†ã“ãï¼"); //é–‹å§‹
        registerDog();   // çŠ¬ã®æƒ…å ±ã‚’ç™»éŒ²
        
        //ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ç¶šã‘ã‚‹ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’ã‹ã

        while (true) {
            System.out.println("\n1: è¨˜éŒ²è¿½åŠ  | 2: è¨˜éŒ²è¡¨ç¤º | 3: çµ‚äº† | 4: å¹³å‡è¡¨ç¤º | 5: æœ€æ–°çŠ¶æ…‹ | 6: ä½“é‡ã‚°ãƒ©ãƒ•");
            System.out.print("é¸æŠã—ã¦ãã ã•ã„: ");
            String input = scanner.nextLine().trim();

            //å…¥åŠ›ã«å¿œã˜ã¦å‡¦ç†ã‚’åˆ†ã‘ã‚‹
            switch (input) {
                case "1":
                    addHealthRecord();  //è¨˜éŒ²è¿½åŠ 
                    break;
                case "2":
                    showRecords();  //è¨˜éŒ²è¡¨ç¤º
                    break;
                case "3":
                    System.out.println("çµ‚äº†ã—ã¾ã™ã€‚");  //çµ‚äº†
                    return; //ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚äº†ã™ã‚‹
                case "4":
                    showAverages();  //å¹³å‡ä½“é‡ã¨æ•£æ­©æ™‚é–“ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
                    break;
                case "5":
                    showLatestRecord(); // è¨˜éŒ²å†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹
                    break;
                case "6":
                    showWeightGraph();  //ä½“é‡å¤‰åŒ–ã‚’ã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã™ã‚‹
                    
                    break;
                default:
                    System.out.println("ç„¡åŠ¹ãªé¸æŠã§ã™ã€‚1ã€œ6ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
            }
        }
    }
 //çŠ¬ã®åå‰ã€å¹´é½¢ã€çŠ¬ç¨®ã‚’å…¥åŠ›ã—ã¦ç™»éŒ²ã™ã‚‹å‡¦ç†
    
    static void registerDog() {
        System.out.println("çŠ¬ã®åå‰: ");
        String name = scanner.nextLine();
        System.out.println("å¹´é½¢: ");
        int age = Integer.parseInt(scanner.nextLine());
        System.out.println("çŠ¬ç¨®: ");
        String breed = scanner.nextLine();

        dog = new MyDog(name, age, breed);
        System.out.println("ç™»éŒ²å®Œäº†: " + dog.name + " (" + dog.breed + ", " + dog.age + "æ­³)");
    }

    // å¥åº·ç®¡ç†ã‚’è¿½åŠ ã™ã‚‹å‡¦ç†
    static void addHealthRecord() {
        System.out.println("æ—¥ä»˜ï¼ˆä¾‹: 2025-05-15ï¼‰: ");
        String date = scanner.nextLine();
        System.out.println("ä½“é‡ï¼ˆkgï¼‰: ");
        double weight = Double.parseDouble(scanner.nextLine());  //å°‘æ•°ã®èª­ã¿å–ã‚Šã¯ã“ã®è¨˜è¿°ã§
        System.out.println("é£Ÿäº‹å†…å®¹: ");
        String food = scanner.nextLine();
        System.out.println("æ•£æ­©æ™‚é–“ï¼ˆåˆ†ï¼‰: ");
        int walkMinutes = Integer.parseInt(scanner.nextLine());
        System.out.println("å¥åº·çŠ¶æ…‹: ");
        String condition = scanner.nextLine();
        
        //å…¥åŠ›ã•ã‚ŒãŸå†…å®¹ã§æ–°ã—ã„å¥åº·ç®¡ç†ã‚’ä½œæˆã™ã‚‹ã€‚ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹ã€‚

        records.add(new HealthRecord(date, weight, food, walkMinutes, condition));
        System.out.println("âœ… è¨˜éŒ²ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚");
    }

    //ã€€è¨˜éŒ²ã‚’è¡¨ç¤ºã™ã‚‹å‡¦ç†
    static void showRecords() {
        System.out.println("\nğŸ“’ã€" + dog.name + " ã®å¥åº·è¨˜éŒ²ã€‘");
        if (records.isEmpty()) {
            System.out.println("è¨˜éŒ²ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚");
            return;
        }
        for (HealthRecord r : records) {
            System.out.println(r);   //toString()ãŒè‡ªå‹•ã§å‘¼ã°ã‚Œã‚‹
        }
    }
  //è¨˜éŒ²ã®å¹³å‡ä½“é‡ã¨ã€å¹³å‡æ•£æ­©æ™‚é–“ã‚’è¨ˆç®—ã—ã¦è¡¨ç¤ºã—ãŸã„
    
    static void showAverages() {
        if (records.isEmpty()) {
            System.out.println("è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
            return;
        }

        double totalWeight = 0;
        int totalWalk = 0;
        for (HealthRecord r : records) {
            totalWeight += r.weight;
            totalWalk += r.walkMinutes;
        }

        double avgWeight = totalWeight / records.size();  //å¹³å‡ä½“é‡ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚
        double avgWalk = (double) totalWalk / records.size(); // å¹³å‡æ•£æ­©æ™‚é–“ã‚’è¡¨ã—ã¦ã„ã¾ã™

        System.out.printf("å¹³å‡ä½“é‡: %.2fkg\n", avgWeight);
        System.out.printf("å¹³å‡æ•£æ­©æ™‚é–“: %.1fåˆ†\n", avgWalk);
    }
 // ã„ã¡ã°ã‚“æ–°ã—ã„è¨˜éŒ²ã‚’è¡¨ç¤ºã™ã‚‹
    static void showLatestRecord() {
        if (records.isEmpty()) {
            System.out.println("è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
            return;
        }

        HealthRecord latest = records.get(records.size() - 1);
        System.out.println("æœ€æ–°ã®å¥åº·è¨˜éŒ²:");
        System.out.println(latest);
    }
// ä½“é‡ã®å¤‰åŒ–ã‚’ãƒãƒ¼ã‚°ãƒ©ãƒ•é¢¨ã«æ–‡å­—ã§è¡¨ç¾
    
    
    static void showWeightGraph() {
        if (records.isEmpty()) {
            System.out.println("è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
            return;
        }

        System.out.println("ä½“é‡å¤‰åŒ–ã‚°ãƒ©ãƒ•ï¼ˆç¸¦è»¸: kgï¼‰");

        for (HealthRecord r : records) {
            int barLength = (int)(r.weight * 2); // ä½“é‡ã«æ¯”ä¾‹ã™ã‚‹é•·ã•ã«å¤‰æ›
            String bar = new String(new char[barLength]).replace('\0', 'â– '); //â–ªï¸ã‚’ä¸¦ã¹ã¦ã‚°ãƒ©ãƒ•è¡¨ç¤º
            
            System.out.printf("%s %.1fkg | %s%n", r.date, r.weight, bar);
        }
    }
}
